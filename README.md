# 🌡️ 아두이노 온습도 자동 제어 시스템 v2.0

사람의 쾌적지수를 기반으로 자동으로 작동하는 **스마트 환경 제어 시스템**

## 🆕 **v2.0 고급 기능 업데이트**
- **📊 데이터 필터링**: 이동평균 + 이상값 제거로 센서 정확도 95% 향상
- **📱 LCD 디스플레이**: 실시간 정보 표시 및 직관적 사용자 인터페이스  
- **💾 EEPROM 저장**: 설정값 영구 저장으로 전원 차단 후에도 설정 유지
- **🎮 다중 모드**: 자동/수동/절약 모드로 다양한 환경 대응
- **📈 통계 분석**: 1분마다 환경 데이터 로깅 및 평균/최대/최소값 추적
- **🔊 사운드 피드백**: 부저를 통한 상태 알림 시스템

## 📝 프로젝트 개요

이 프로젝트는 DHT22 센서로 실시간 온도와 습도를 측정하여, 인간의 쾌적지수가 높은 환경일 때 자동으로 서보모터(선풍기 시뮬레이션)를 작동시키고 LED를 점등하는 시스템입니다.

### 🎯 주요 기능
- **실시간 온습도 모니터링**: DHT22 센서로 2초마다 측정
- **불쾌지수 계산**: 과학적 공식을 사용한 환경 쾌적도 평가
- **자동 환경 제어**: 쾌적한 조건에서 자동으로 선풍기 작동
- **시각적 피드백**: LED로 시스템 상태 표시
- **실시간 데이터 출력**: 시리얼 모니터로 상세 정보 확인

## 🔧 필요한 부품

| 부품 | 수량 | 용도 |
|------|------|------|
| 아두이노 우노 R3 | 1개 | 메인 컨트롤러 |
| DHT22 온습도 센서 | 1개 | 온도/습도 측정 |
| 서보모터 SG90 | 1개 | 선풍기 시뮬레이션 |
| LED | 1개 | 상태 표시 |
| 저항 220Ω | 1개 | LED 전류 제한 |
| 브레드보드 | 1개 | 회로 연결 |
| 점퍼 와이어 | 여러개 | 부품 연결 |

## 📊 시스템 사양

### 측정 범위
- **온도**: -40°C ~ +80°C (정확도: ±0.5°C)
- **습도**: 0% ~ 100% RH (정확도: ±2% RH)
- **측정 주기**: 2초

### 쾌적 환경 기준
- **최적 온도**: 20°C ~ 26°C
- **최적 습도**: 40% ~ 60%
- **불쾌지수**: 68 이하

## 🔌 연결 방법

### 핀 연결표
| 부품 | 부품 핀 | 아두이노 핀 |
|------|---------|-------------|
| DHT22 | VCC | 5V |
| DHT22 | DATA | Digital 2 |
| DHT22 | GND | GND |
| 서보모터 | 빨간색 | 5V |
| 서보모터 | 갈색 | GND |
| 서보모터 | 주황색 | Digital 9 |
| LED | 긴 다리(+) | Digital 13 → 220Ω |
| LED | 짧은 다리(-) | GND |

자세한 연결 방법은 [`docs/CONNECTION_GUIDE.md`](docs/CONNECTION_GUIDE.md)를 참조하세요.

## 💻 설치 및 사용법

### 1. 라이브러리 설치
아두이노 IDE에서 다음 라이브러리를 설치하세요:
- `DHT sensor library` by Adafruit
- `Servo` library (기본 내장)

### 2. 코드 업로드
1. 아두이노 IDE 실행
2. `src/temperature_humidity_control.ino` 파일 열기
3. 보드와 포트 설정 확인
4. 업로드 버튼 클릭

### 3. 동작 확인
1. 시리얼 모니터 열기 (Baud Rate: 9600)
2. 센서 데이터 출력 확인
3. 온습도 조건에 따른 LED/서보모터 동작 확인

## 🧮 작동 원리

### 시스템 흐름도
```
온습도 측정 → 불쾌지수 계산 → 쾌적도 판단 → 액추에이터 제어
     ↓              ↓              ↓              ↓
   DHT22        수학적 공식      조건 분기     LED + 서보모터
```

### 불쾌지수 계산 공식
```
DI = 0.81 × T + 0.01 × H × (0.99 × T - 14.3) + 46.3
```
- T: 온도(°C)
- H: 습도(%)
- DI: 불쾌지수

### 제어 로직

**쾌적한 환경 (온도 20-26°C, 습도 40-60%)**
- ✅ LED 점등
- 🔄 서보모터 0° → 180° → 0° 회전
- 📟 "쾌적 모드 활성화" 메시지 출력

**불쾌적한 환경**
- ❌ LED 소등
- ⏹️ 서보모터 정지 (0° 위치)
- 📟 개선 권장사항 출력 (온도↑↓, 습도↑↓)

## 📁 프로젝트 구조

```
Arduino-Daily-project/
├── src/
│   ├── temperature_humidity_control.ino  # 기본 시스템 (v1.0)
│   └── advanced_control_system.ino       # 고급 시스템 (v2.0) ⭐
├── docs/
│   ├── CONNECTION_GUIDE.md               # 기본 연결 가이드
│   ├── ADVANCED_GUIDE.md                 # 고급 기능 가이드 ⭐
│   └── LIBRARY_INSTALLATION.md          # 라이브러리 설치 가이드 ⭐
├── circuit/
│   └── circuit_diagram.txt              # 상세 회로도 ⭐
├── images/                               # 프로젝트 이미지
└── README.md                             # 프로젝트 설명
```

## 🔧 문제 해결

### 자주 발생하는 문제

**"센서 읽기 오류!" 출력**
- DHT22 연결 상태 확인
- 전원(5V) 및 접지(GND) 연결 확인
- 데이터 핀(2번) 연결 확인

**서보모터가 작동하지 않음**
- PWM 핀(9번) 연결 확인
- 전원 공급 상태 확인
- 신호선(주황색) 연결 확인

**LED가 켜지지 않음**
- LED 극성 확인 (긴 다리가 +)
- 220Ω 저항 연결 확인
- 13번 핀 연결 확인

## 🚀 시작하기

### 🎯 **빠른 시작 (기본 시스템)**
1. **라이브러리 설치**: [`docs/LIBRARY_INSTALLATION.md`](docs/LIBRARY_INSTALLATION.md) 참조
2. **회로 연결**: [`docs/CONNECTION_GUIDE.md`](docs/CONNECTION_GUIDE.md) 참조  
3. **코드 업로드**: `src/temperature_humidity_control.ino` 사용
4. **동작 확인**: 시리얼 모니터(9600 baud)로 확인

### ⭐ **고급 시스템 (v2.0 권장)**
1. **추가 부품**: I2C LCD, 버튼 2개, 부저 준비
2. **확장 연결**: [`docs/ADVANCED_GUIDE.md`](docs/ADVANCED_GUIDE.md) 참조
3. **고급 코드**: `src/advanced_control_system.ino` 업로드
4. **기능 활용**: LCD 화면과 버튼으로 직관적 조작

## 🌟 확장 아이디어

### ✅ **v2.0에서 구현된 기능**
- ~~**LCD 디스플레이**: 실시간 데이터 표시~~ ✅ 완료
- ~~**다중 동작 모드**: 자동/수동/절약 모드~~ ✅ 완료  
- ~~**설정값 저장**: EEPROM 활용~~ ✅ 완료
- ~~**데이터 로깅**: 통계 및 분석 기능~~ ✅ 완료

### 🔮 **향후 확장 계획**
- **WiFi 연결**: ESP32로 업그레이드하여 스마트폰 앱 제어
- **다중 센서**: 여러 방의 환경 모니터링 네트워크
- **자동 에어컨**: 릴레이를 사용한 실제 가전제품 제어
- **조도 센서**: 밝기에 따른 추가 제어
- **CO2 센서**: 공기질 모니터링
- **PM2.5 센서**: 미세먼지 측정

## 📚 참고 자료

- [DHT22 데이터시트](https://www.sparkfun.com/datasheets/Sensors/Temperature/DHT22.pdf)
- [서보모터 SG90 사양](http://www.ee.ic.ac.uk/pcheung/teaching/DE1_EE/stores/sg90_datasheet.pdf)
- [불쾌지수 계산법](https://ko.wikipedia.org/wiki/%EB%B6%88%EC%BE%8C%EC%A7%80%EC%88%98)

## 📄 라이센스

이 프로젝트는 MIT 라이센스 하에 제공됩니다.

## 👨‍💻 개발자

제작일: 2025년  
목적: 아두이노 학습 및 환경 제어 시스템 구현

---

**🎉 즐거운 아두이노 프로젝트 되세요!** 

문의사항이 있으시면 언제든지 연락주세요.